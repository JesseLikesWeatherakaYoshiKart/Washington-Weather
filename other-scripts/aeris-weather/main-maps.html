<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<script defer src="https://cdn.aerisapi.com/sdk/js/1.8.0/aerisweather.min.js"></script>
	<link rel="stylesheet" href="https://cdn.aerisapi.com/sdk/js/1.8.0/aerisweather.css">
	<style>
 		#map {
			height: 600px;
			width: 900px;
    		margin: 30px auto;
  		}
  	</style>
</head>
<body>		
	
<div id="map"></div>	

<script>	 
window.addEventListener('load', () => { 
		
  const aeris = new AerisWeather('DZLMGEFxCvfbQRG7aSN3c', 'N63dulcmKzQTrWjIrTe2aGKmOw5AhERWWUmjHQKt');
	const utils = aeris.utils;

	aeris.apps().then((apps) => {
		const app = new apps.InteractiveMapApp(document.getElementById('map'), {
            map: {
                strategy: "mapbox",
                accessToken: "sk.eyJ1IjoiaGFzdHl0dWJlIiwiYSI6ImNsb29mbWZqbjAweWcya252bXA3YnF6em8ifQ.ppMIUyk3oleGbROjN8Ae8A",
                zoom: 2.6300795784519884,
                center: {
                    lat: 31.7137,
                    lon: -81.2218
                },
                timeline: {
                    from: -7200,
                    to: 32400
                }
            },
            panels: {
                layers: {
                    buttons: [{
                            title: "Radar",
                            value: "radar"
                        },{
                            title: "Forecast Radar",
                            value: "fradar"
                        },{
                            title: "Forecast High Temps",
                            value: "ftemperatures-max"
                        },{
                            title: "Forecast Low Temps",
                            value: "ftemperatures-min"
                        },{
                            title: "Forecast Snow Accum",
                            value: "fqsf-accum"
                        },{
                            title: "Forecast Wind Chill",
                            value: "fwind-chill"
                        },{
                            title: "Forecast Heat Index",
                            value: "fheat-index"
                        },{
                            title: "Forecast Jet Stream (250mb)",
                            value: "fjet-stream"
                        },{
                            title: "Drought Monitor",
                            value: "drought-monitor"
                        },{
                            title: "6-10d Temp Outlook",
                            value: "temperatures-outlook-6-10d-cpc"
                        },{
                            title: "6-10d Precip Outlook",
                            value: "precip-outlook-6-10d-cpc"
                        },{
                            title: "8-14d Temp Outlook",
                            value: "temperatures-outlook-8-14d-cpc"
                        },{
                            title: "8-14d Precip Outlook",
                            value: "precip-outlook-8-14d-cpc"
                        }],
                    enabled: true,
                    toggleable: false,
                    position: {
                        pin: "topright",
                        translate: {
                            x: -10,
                            y: 10
                        }
                    }
                },
                timeline: {
                    enabled: true,
                    toggleable: false,
                    position: {
                        pin: "bottom",
                        translate: {
                            x: 0,
                            y: -10
                        }
                    }
                },
                search: {
                    enabled: true,
                    toggleable: false,
                    position: {
                        pin: "top",
                        translate: {
                            x: 0,
                            y: 10
                        }
                    }
                },
                legends: {
                    enabled: true,
                    toggleable: true,
                    position: {
                        pin: "bottomright",
                        translate: {
                            x: -10,
                            y: -10
                        }
                    }
                },
                info: {
                    enabled: true,
                    position: {
                        pin: "topleft",
                        translate: {
                            x: 10,
                            y: 10
                        }
                    },
                    metric: false
                }
            }
        });
		
		app.on('ready', () => {
			// show info panel for location when map is clicked
			app.map.on('click', (e) => {
				app.showInfoAtCoord(e.data.coord, 'localweather', 'Local Weather');
			});

			// select initial layers
			app.map.addLayers(['radar']);
		});
		
		
	});			
});
</script>	

</body>
</html>
